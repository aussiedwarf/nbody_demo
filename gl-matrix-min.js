/**
 * @fileoverview gl-matrix - High performance matrix and vector operations
 * @author Brandon Jones
 * @author Colin MacKenzie IV
 * @version 2.3.2
 */

/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE. */

!function(t,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var n=a();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function a(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}var n={};return a.m=t,a.c=n,a.p="",a(0)}([function(t,a,n){a.glMatrix=n(1),a.mat2=n(2),a.mat2d=n(3),a.mat3=n(4),a.mat4=n(5),a.quat=n(6),a.vec2=n(9),a.vec3=n(7),a.vec4=n(8),a.dmat2=n(10),a.dmat2d=n(11),a.dmat3=n(12),a.dmat4=n(13),a.dquat=n(14),a.dvec2=n(17),a.dvec3=n(15),a.dvec4=n(16)},function(t,a){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.ARRAY_TYPE_D="undefined"!=typeof Float64Array?Float64Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,a){return Math.abs(t-a)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=n},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.transpose=function(t,a){if(t===a){var n=a[1];t[1]=a[2],t[2]=n}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*u-o*r;return e?(e=1/e,t[0]=u*e,t[1]=-r*e,t[2]=-o*e,t[3]=n*e,t):null},o.adjoint=function(t,a){var n=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1],s=n[2],i=n[3];return t[0]=r*M+u*l,t[1]=o*M+e*l,t[2]=r*s+u*i,t[3]=o*s+e*i,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+u*M,t[1]=o*l+e*M,t[2]=r*-M+u*l,t[3]=o*-M+e*l,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1];return t[0]=r*M,t[1]=o*M,t[2]=u*l,t[3]=e*l,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,a,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,a,n]},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=a[0],l=a[1],s=a[2],i=a[3];return Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-i)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))},o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,a,n,o,u,e){var M=new r.ARRAY_TYPE(6);return M[0]=t,M[1]=a,M[2]=n,M[3]=o,M[4]=u,M[5]=e,M},o.set=function(t,a,n,r,o,u,e){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=n*u-r*o;return l?(l=1/l,t[0]=u*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t[4]=(o*M-u*e)*l,t[5]=(r*e-n*M)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1],c=n[2],h=n[3],f=n[4],S=n[5];return t[0]=r*s+u*i,t[1]=o*s+e*i,t[2]=r*c+u*h,t[3]=o*c+e*h,t[4]=r*f+u*S+M,t[5]=o*f+e*S+l,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=Math.sin(n),i=Math.cos(n);return t[0]=r*i+u*s,t[1]=o*i+e*s,t[2]=r*-s+u*i,t[3]=o*-s+e*i,t[4]=M,t[5]=l,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1];return t[0]=r*s,t[1]=o*s,t[2]=u*i,t[3]=e*i,t[4]=M,t[5]=l,t},o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=r*s+u*i+M,t[5]=o*s+e*i+l,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=a[0],i=a[1],c=a[2],h=a[3],f=a[4],S=a[5];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(e-h)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(M-f)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(f))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},o.clone=function(t){var a=new r.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromValues=function(t,a,n,o,u,e,M,l,s){var i=new r.ARRAY_TYPE(9);return i[0]=t,i[1]=a,i[2]=n,i[3]=o,i[4]=u,i[5]=e,i[6]=M,i[7]=l,i[8]=s,i},o.set=function(t,a,n,r,o,u,e,M,l,s){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t[6]=M,t[7]=l,t[8]=s,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[5];t[1]=a[3],t[2]=a[6],t[3]=n,t[5]=a[7],t[6]=r,t[7]=o}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=i*e-M*s,h=-i*u+M*l,f=s*u-e*l,S=n*c+r*h+o*f;return S?(S=1/S,t[0]=c*S,t[1]=(-i*r+o*s)*S,t[2]=(M*r-o*e)*S,t[3]=h*S,t[4]=(i*n-o*l)*S,t[5]=(-M*n+o*u)*S,t[6]=f*S,t[7]=(-s*n+r*l)*S,t[8]=(e*n-r*u)*S,t):null},o.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8];return t[0]=e*i-M*s,t[1]=o*s-r*i,t[2]=r*M-o*e,t[3]=M*l-u*i,t[4]=n*i-o*l,t[5]=o*u-n*M,t[6]=u*s-e*l,t[7]=r*l-n*s,t[8]=n*e-r*u,t},o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],e=t[5],M=t[6],l=t[7],s=t[8];return a*(s*u-e*l)+n*(-s*o+e*M)+r*(l*o-u*M)},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=n[0],f=n[1],S=n[2],I=n[3],x=n[4],D=n[5],m=n[6],d=n[7],F=n[8];return t[0]=h*r+f*e+S*s,t[1]=h*o+f*M+S*i,t[2]=h*u+f*l+S*c,t[3]=I*r+x*e+D*s,t[4]=I*o+x*M+D*i,t[5]=I*u+x*l+D*c,t[6]=m*r+d*e+F*s,t[7]=m*o+d*M+F*i,t[8]=m*u+d*l+F*c,t},o.mul=o.multiply,o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=M,t[5]=l,t[6]=h*r+f*e+s,t[7]=h*o+f*M+i,t[8]=h*u+f*l+c,t},o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*e,t[1]=f*o+h*M,t[2]=f*u+h*l,t[3]=f*e-h*r,t[4]=f*M-h*o,t[5]=f*l-h*u,t[6]=s,t[7]=i,t[8]=c,t},o.scale=function(t,a,n){var r=n[0],o=n[1];return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=o*a[3],t[4]=o*a[4],t[5]=o*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n+n,M=r+r,l=o+o,s=n*e,i=r*e,c=r*M,h=o*e,f=o*M,S=o*l,I=u*e,x=u*M,D=u*l;return t[0]=1-c-S,t[3]=i-D,t[6]=h+x,t[1]=i+D,t[4]=1-s-S,t[7]=f-I,t[2]=h-x,t[5]=f+I,t[8]=1-s-c,t},o.normalFromMat4=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15],m=n*M-r*e,d=n*l-o*e,F=n*s-u*e,v=r*l-o*M,b=r*s-u*M,p=o*s-u*l,E=i*I-c*S,w=i*x-h*S,z=i*D-f*S,A=c*x-h*I,P=c*D-f*I,q=h*D-f*x,L=m*q-d*P+F*A+v*z-b*w+p*E;return L?(L=1/L,t[0]=(M*q-l*P+s*A)*L,t[1]=(l*z-e*q-s*w)*L,t[2]=(e*P-M*z+s*E)*L,t[3]=(o*P-r*q-u*A)*L,t[4]=(n*q-o*z+u*w)*L,t[5]=(r*z-n*P-u*E)*L,t[6]=(I*p-x*b+D*v)*L,t[7]=(x*F-S*p-D*d)*L,t[8]=(S*b-I*F+D*m)*L,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=t[6],i=t[7],c=t[8],h=a[0],f=a[1],S=a[2],I=a[3],x=a[4],D=a[5],m=t[6],d=a[7],F=a[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-S)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(e-I)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(I))&&Math.abs(M-x)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(x))&&Math.abs(l-D)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(c-F)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(F))},t.exports=o},function(t,a,n){var r=n(1),o={scalar:{},SIMD:{}};o.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.fromValues=function(t,a,n,o,u,e,M,l,s,i,c,h,f,S,I,x){var D=new r.ARRAY_TYPE(16);return D[0]=t,D[1]=a,D[2]=n,D[3]=o,D[4]=u,D[5]=e,D[6]=M,D[7]=l,D[8]=s,D[9]=i,D[10]=c,D[11]=h,D[12]=f,D[13]=S,D[14]=I,D[15]=x,D},o.set=function(t,a,n,r,o,u,e,M,l,s,i,c,h,f,S,I,x){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t[6]=M,t[7]=l,t[8]=s,t[9]=i,t[10]=c,t[11]=h,t[12]=f,t[13]=S,t[14]=I,t[15]=x,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[3],u=a[6],e=a[7],M=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=n,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=u,t[11]=a[14],t[12]=o,t[13]=e,t[14]=M}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},o.SIMD.transpose=function(t,a){var n,r,o,u,e,M,l,s,i,c;return n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),e=SIMD.Float32x4.shuffle(n,r,0,1,4,5),M=SIMD.Float32x4.shuffle(o,u,0,1,4,5),l=SIMD.Float32x4.shuffle(e,M,0,2,4,6),s=SIMD.Float32x4.shuffle(e,M,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),e=SIMD.Float32x4.shuffle(n,r,2,3,6,7),M=SIMD.Float32x4.shuffle(o,u,2,3,6,7),i=SIMD.Float32x4.shuffle(e,M,0,2,4,6),c=SIMD.Float32x4.shuffle(e,M,1,3,5,7),SIMD.Float32x4.store(t,8,i),SIMD.Float32x4.store(t,12,c),t},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15],m=n*M-r*e,d=n*l-o*e,F=n*s-u*e,v=r*l-o*M,b=r*s-u*M,p=o*s-u*l,E=i*I-c*S,w=i*x-h*S,z=i*D-f*S,A=c*x-h*I,P=c*D-f*I,q=h*D-f*x,L=m*q-d*P+F*A+v*z-b*w+p*E;return L?(L=1/L,t[0]=(M*q-l*P+s*A)*L,t[1]=(o*P-r*q-u*A)*L,t[2]=(I*p-x*b+D*v)*L,t[3]=(h*b-c*p-f*v)*L,t[4]=(l*z-e*q-s*w)*L,t[5]=(n*q-o*z+u*w)*L,t[6]=(x*F-S*p-D*d)*L,t[7]=(i*p-h*F+f*d)*L,t[8]=(e*P-M*z+s*E)*L,t[9]=(r*z-n*P-u*E)*L,t[10]=(S*b-I*F+D*m)*L,t[11]=(c*F-i*b-f*m)*L,t[12]=(M*w-e*A-l*E)*L,t[13]=(n*A-r*w+o*E)*L,t[14]=(I*d-S*v-x*m)*L,t[15]=(i*v-c*d+h*m)*L,t):null},o.SIMD.invert=function(t,a){var n,r,o,u,e,M,l,s,i,c,h=SIMD.Float32x4.load(a,0),f=SIMD.Float32x4.load(a,4),S=SIMD.Float32x4.load(a,8),I=SIMD.Float32x4.load(a,12);return e=SIMD.Float32x4.shuffle(h,f,0,1,4,5),r=SIMD.Float32x4.shuffle(S,I,0,1,4,5),n=SIMD.Float32x4.shuffle(e,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,e,1,3,5,7),e=SIMD.Float32x4.shuffle(h,f,2,3,6,7),u=SIMD.Float32x4.shuffle(S,I,2,3,6,7),o=SIMD.Float32x4.shuffle(e,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,e,1,3,5,7),e=SIMD.Float32x4.mul(o,u),e=SIMD.Float32x4.swizzle(e,1,0,3,2),M=SIMD.Float32x4.mul(r,e),l=SIMD.Float32x4.mul(n,e),e=SIMD.Float32x4.swizzle(e,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,e),M),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,e),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),e=SIMD.Float32x4.mul(r,o),e=SIMD.Float32x4.swizzle(e,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,e),M),i=SIMD.Float32x4.mul(n,e),e=SIMD.Float32x4.swizzle(e,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,e)),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,e),i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),e=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),u),e=SIMD.Float32x4.swizzle(e,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),M),s=SIMD.Float32x4.mul(n,e),e=SIMD.Float32x4.swizzle(e,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(o,e)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,e),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),e=SIMD.Float32x4.mul(n,r),e=SIMD.Float32x4.swizzle(e,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,e),s),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,e),i),e=SIMD.Float32x4.swizzle(e,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,e),s),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,e)),e=SIMD.Float32x4.mul(n,u),e=SIMD.Float32x4.swizzle(e,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,e)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,e),s),e=SIMD.Float32x4.swizzle(e,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,e)),e=SIMD.Float32x4.mul(n,o),e=SIMD.Float32x4.swizzle(e,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,e),l),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,e)),e=SIMD.Float32x4.swizzle(e,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(u,e)),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,e),i),c=SIMD.Float32x4.mul(n,M),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),e=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(e,e),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(e,e))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,M)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,i)),t):null},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15];return t[0]=M*(h*D-f*x)-c*(l*D-s*x)+I*(l*f-s*h),t[1]=-(r*(h*D-f*x)-c*(o*D-u*x)+I*(o*f-u*h)),t[2]=r*(l*D-s*x)-M*(o*D-u*x)+I*(o*s-u*l),t[3]=-(r*(l*f-s*h)-M*(o*f-u*h)+c*(o*s-u*l)),t[4]=-(e*(h*D-f*x)-i*(l*D-s*x)+S*(l*f-s*h)),t[5]=n*(h*D-f*x)-i*(o*D-u*x)+S*(o*f-u*h),t[6]=-(n*(l*D-s*x)-e*(o*D-u*x)+S*(o*s-u*l)),t[7]=n*(l*f-s*h)-e*(o*f-u*h)+i*(o*s-u*l),t[8]=e*(c*D-f*I)-i*(M*D-s*I)+S*(M*f-s*c),t[9]=-(n*(c*D-f*I)-i*(r*D-u*I)+S*(r*f-u*c)),t[10]=n*(M*D-s*I)-e*(r*D-u*I)+S*(r*s-u*M),t[11]=-(n*(M*f-s*c)-e*(r*f-u*c)+i*(r*s-u*M)),t[12]=-(e*(c*x-h*I)-i*(M*x-l*I)+S*(M*h-l*c)),t[13]=n*(c*x-h*I)-i*(r*x-o*I)+S*(r*h-o*c),t[14]=-(n*(M*x-l*I)-e*(r*x-o*I)+S*(r*l-o*M)),t[15]=n*(M*h-l*c)-e*(r*h-o*c)+i*(r*l-o*M),t},o.SIMD.adjoint=function(t,a){var n,r,o,u,e,M,l,s,i,c,h,f,S,n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12);return i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),M=SIMD.Float32x4.shuffle(o,u,0,1,4,5),e=SIMD.Float32x4.shuffle(i,M,0,2,4,6),M=SIMD.Float32x4.shuffle(M,i,1,3,5,7),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(o,u,2,3,6,7),l=SIMD.Float32x4.shuffle(i,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,i,1,3,5,7),i=SIMD.Float32x4.mul(l,s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.mul(M,i),h=SIMD.Float32x4.mul(e,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(M,i),c),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),i=SIMD.Float32x4.mul(M,l),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),c),S=SIMD.Float32x4.mul(e,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,i)),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),S),S=SIMD.Float32x4.swizzle(S,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,3,0,1),s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,i),c),f=SIMD.Float32x4.mul(e,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(l,i)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),i=SIMD.Float32x4.mul(e,M),i=SIMD.Float32x4.swizzle(i,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),f),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,i),S),i=SIMD.Float32x4.swizzle(i,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,i),f),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(l,i)),i=SIMD.Float32x4.mul(e,s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,i)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(M,i),f),i=SIMD.Float32x4.swizzle(i,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,i),h),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(M,i)),i=SIMD.Float32x4.mul(e,l),i=SIMD.Float32x4.swizzle(i,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),h),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(M,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,i)),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(M,i),S),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,S),t},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],e=t[5],M=t[6],l=t[7],s=t[8],i=t[9],c=t[10],h=t[11],f=t[12],S=t[13],I=t[14],x=t[15],D=a*e-n*u,m=a*M-r*u,d=a*l-o*u,F=n*M-r*e,v=n*l-o*e,b=r*l-o*M,p=s*S-i*f,E=s*I-c*f,w=s*x-h*f,z=i*I-c*S,A=i*x-h*S,P=c*x-h*I;return D*P-m*A+d*z+F*w-v*E+b*p},o.SIMD.multiply=function(t,a,n){var r=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8),e=SIMD.Float32x4.load(a,12),M=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),e))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(n,4),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),e))));SIMD.Float32x4.store(t,4,i);var c=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),e))));SIMD.Float32x4.store(t,8,h);var f=SIMD.Float32x4.load(n,12),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),e))));return SIMD.Float32x4.store(t,12,S),t},o.scalar.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=a[9],f=a[10],S=a[11],I=a[12],x=a[13],D=a[14],m=a[15],d=n[0],F=n[1],v=n[2],b=n[3];return t[0]=d*r+F*M+v*c+b*I,t[1]=d*o+F*l+v*h+b*x,t[2]=d*u+F*s+v*f+b*D,t[3]=d*e+F*i+v*S+b*m,d=n[4],F=n[5],v=n[6],b=n[7],t[4]=d*r+F*M+v*c+b*I,t[5]=d*o+F*l+v*h+b*x,t[6]=d*u+F*s+v*f+b*D,t[7]=d*e+F*i+v*S+b*m,d=n[8],F=n[9],v=n[10],b=n[11],t[8]=d*r+F*M+v*c+b*I,t[9]=d*o+F*l+v*h+b*x,t[10]=d*u+F*s+v*f+b*D,t[11]=d*e+F*i+v*S+b*m,d=n[12],F=n[13],v=n[14],b=n[15],t[12]=d*r+F*M+v*c+b*I,t[13]=d*o+F*l+v*h+b*x,t[14]=d*u+F*s+v*f+b*D,t[15]=d*e+F*i+v*S+b*m,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,a,n){var r,o,u,e,M,l,s,i,c,h,f,S,I=n[0],x=n[1],D=n[2];return a===t?(t[12]=a[0]*I+a[4]*x+a[8]*D+a[12],t[13]=a[1]*I+a[5]*x+a[9]*D+a[13],t[14]=a[2]*I+a[6]*x+a[10]*D+a[14],t[15]=a[3]*I+a[7]*x+a[11]*D+a[15]):(r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=a[9],f=a[10],S=a[11],t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=M,t[5]=l,t[6]=s,t[7]=i,t[8]=c,t[9]=h,t[10]=f,t[11]=S,t[12]=r*I+M*x+c*D+a[12],t[13]=o*I+l*x+h*D+a[13],t[14]=u*I+s*x+f*D+a[14],t[15]=e*I+i*x+S*D+a[15]),t},o.SIMD.translate=function(t,a,n){var r=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8),e=SIMD.Float32x4.load(a,12),M=SIMD.Float32x4(n[0],n[1],n[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(M,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(M,1,1,1,1)),u=SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(M,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,SIMD.Float32x4.add(u,e)));return SIMD.Float32x4.store(t,12,l),t},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,a,n){var r=n[0],o=n[1],u=n[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*u,t[9]=a[9]*u,t[10]=a[10]*u,t[11]=a[11]*u,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.SIMD.scale=function(t,a,n){var r,o,u,e=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(e,0,0,0,0))),o=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(e,1,1,1,1))),u=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(e,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,a,n,o){var u,e,M,l,s,i,c,h,f,S,I,x,D,m,d,F,v,b,p,E,w,z,A,P,q=o[0],L=o[1],R=o[2],O=Math.sqrt(q*q+L*L+R*R);return Math.abs(O)<r.EPSILON?null:(O=1/O,q*=O,L*=O,R*=O,u=Math.sin(n),e=Math.cos(n),M=1-e,l=a[0],s=a[1],i=a[2],c=a[3],h=a[4],f=a[5],S=a[6],I=a[7],x=a[8],D=a[9],m=a[10],d=a[11],F=q*q*M+e,v=L*q*M+R*u,b=R*q*M-L*u,p=q*L*M-R*u,E=L*L*M+e,w=R*L*M+q*u,z=q*R*M+L*u,A=L*R*M-q*u,P=R*R*M+e,t[0]=l*F+h*v+x*b,t[1]=s*F+f*v+D*b,t[2]=i*F+S*v+m*b,t[3]=c*F+I*v+d*b,t[4]=l*p+h*E+x*w,t[5]=s*p+f*E+D*w,t[6]=i*p+S*E+m*w,t[7]=c*p+I*E+d*w,t[8]=l*z+h*A+x*P,t[9]=s*z+f*A+D*P,t[10]=i*z+S*A+m*P,t[11]=c*z+I*A+d*P,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},o.scalar.rotateX=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[4],e=a[5],M=a[6],l=a[7],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=u*o+s*r,t[5]=e*o+i*r,t[6]=M*o+c*r,t[7]=l*o+h*r,t[8]=s*o-u*r,t[9]=i*o-e*r,t[10]=c*o-M*r,t[11]=h*o-l*r,t},o.SIMD.rotateX=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,4),e=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(e,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,o),SIMD.Float32x4.mul(u,r))),t},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],e=a[1],M=a[2],l=a[3],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o-s*r,t[1]=e*o-i*r,t[2]=M*o-c*r,t[3]=l*o-h*r,t[8]=u*r+s*o,t[9]=e*r+i*o,t[10]=M*r+c*o,t[11]=l*r+h*o,t},o.SIMD.rotateY=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(e,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(e,o))),t},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],e=a[1],M=a[2],l=a[3],s=a[4],i=a[5],c=a[6],h=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o+s*r,t[1]=e*o+i*r,t[2]=M*o+c*r,t[3]=l*o+h*r,t[4]=s*o-u*r,t[5]=i*o-e*r,t[6]=c*o-M*r,t[7]=h*o-l*r,t},o.SIMD.rotateZ=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(e,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,o),SIMD.Float32x4.mul(u,r))),t},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,a,n){var o,u,e,M=n[0],l=n[1],s=n[2],i=Math.sqrt(M*M+l*l+s*s);return Math.abs(i)<r.EPSILON?null:(i=1/i,M*=i,l*=i,s*=i,o=Math.sin(a),u=Math.cos(a),e=1-u,t[0]=M*M*e+u,t[1]=l*M*e+s*o,t[2]=s*M*e-l*o,t[3]=0,t[4]=M*l*e-s*o,t[5]=l*l*e+u,t[6]=s*l*e+M*o,t[7]=0,t[8]=M*s*e+l*o,t[9]=l*s*e-M*o,t[10]=s*s*e+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=r+r,l=o+o,s=u+u,i=r*M,c=r*l,h=r*s,f=o*l,S=o*s,I=u*s,x=e*M,D=e*l,m=e*s;return t[0]=1-(f+I),t[1]=c+m,t[2]=h-D,t[3]=0,t[4]=c-m,t[5]=1-(i+I),t[6]=S+x,t[7]=0,t[8]=h+D,t[9]=S-x,t[10]=1-(i+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},o.getRotation=function(t,a){var n=a[0]+a[5]+a[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(a[6]-a[9])/r,t[1]=(a[8]-a[2])/r,t[2]=(a[1]-a[4])/r):a[0]>a[5]&a[0]>a[10]?(r=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/r,t[0]=.25*r,t[1]=(a[1]+a[4])/r,t[2]=(a[8]+a[2])/r):a[5]>a[10]?(r=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/r,t[0]=(a[1]+a[4])/r,t[1]=.25*r,t[2]=(a[6]+a[9])/r):(r=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/r,t[0]=(a[8]+a[2])/r,t[1]=(a[6]+a[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,a,n,r){var o=a[0],u=a[1],e=a[2],M=a[3],l=o+o,s=u+u,i=e+e,c=o*l,h=o*s,f=o*i,S=u*s,I=u*i,x=e*i,D=M*l,m=M*s,d=M*i,F=r[0],v=r[1],b=r[2];return t[0]=(1-(S+x))*F,t[1]=(h+d)*F,t[2]=(f-m)*F,t[3]=0,
t[4]=(h-d)*v,t[5]=(1-(c+x))*v,t[6]=(I+D)*v,t[7]=0,t[8]=(f+m)*b,t[9]=(I-D)*b,t[10]=(1-(c+S))*b,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,a,n,r,o){var u=a[0],e=a[1],M=a[2],l=a[3],s=u+u,i=e+e,c=M+M,h=u*s,f=u*i,S=u*c,I=e*i,x=e*c,D=M*c,m=l*s,d=l*i,F=l*c,v=r[0],b=r[1],p=r[2],E=o[0],w=o[1],z=o[2];return t[0]=(1-(I+D))*v,t[1]=(f+F)*v,t[2]=(S-d)*v,t[3]=0,t[4]=(f-F)*b,t[5]=(1-(h+D))*b,t[6]=(x+m)*b,t[7]=0,t[8]=(S+d)*p,t[9]=(x-m)*p,t[10]=(1-(h+I))*p,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*w+t[8]*z),t[13]=n[1]+w-(t[1]*E+t[5]*w+t[9]*z),t[14]=n[2]+z-(t[2]*E+t[6]*w+t[10]*z),t[15]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n+n,M=r+r,l=o+o,s=n*e,i=r*e,c=r*M,h=o*e,f=o*M,S=o*l,I=u*e,x=u*M,D=u*l;return t[0]=1-c-S,t[1]=i+D,t[2]=h-x,t[3]=0,t[4]=i-D,t[5]=1-s-S,t[6]=f+I,t[7]=0,t[8]=h+x,t[9]=f-I,t[10]=1-s-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,a,n,r,o,u,e){var M=1/(n-a),l=1/(o-r),s=1/(u-e);return t[0]=2*u*M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*l,t[6]=0,t[7]=0,t[8]=(n+a)*M,t[9]=(o+r)*l,t[10]=(e+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=e*u*2*s,t[15]=0,t},o.perspective=function(t,a,n,r,o){var u=1/Math.tan(a/2),e=1/(r-o);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*e,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,a,n,r){var o=Math.tan(a.upDegrees*Math.PI/180),u=Math.tan(a.downDegrees*Math.PI/180),e=Math.tan(a.leftDegrees*Math.PI/180),M=Math.tan(a.rightDegrees*Math.PI/180),l=2/(e+M),s=2/(o+u);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((e-M)*l*.5),t[9]=(o-u)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,a,n,r,o,u,e){var M=1/(a-n),l=1/(r-o),s=1/(u-e);return t[0]=-2*M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+n)*M,t[13]=(o+r)*l,t[14]=(e+u)*s,t[15]=1,t},o.lookAt=function(t,a,n,u){var e,M,l,s,i,c,h,f,S,I,x=a[0],D=a[1],m=a[2],d=u[0],F=u[1],v=u[2],b=n[0],p=n[1],E=n[2];return Math.abs(x-b)<r.EPSILON&&Math.abs(D-p)<r.EPSILON&&Math.abs(m-E)<r.EPSILON?o.identity(t):(h=x-b,f=D-p,S=m-E,I=1/Math.sqrt(h*h+f*f+S*S),h*=I,f*=I,S*=I,e=F*S-v*f,M=v*h-d*S,l=d*f-F*h,I=Math.sqrt(e*e+M*M+l*l),I?(I=1/I,e*=I,M*=I,l*=I):(e=0,M=0,l=0),s=f*l-S*M,i=S*e-h*l,c=h*M-f*e,I=Math.sqrt(s*s+i*i+c*c),I?(I=1/I,s*=I,i*=I,c*=I):(s=0,i=0,c=0),t[0]=e,t[1]=s,t[2]=h,t[3]=0,t[4]=M,t[5]=i,t[6]=f,t[7]=0,t[8]=l,t[9]=c,t[10]=S,t[11]=0,t[12]=-(e*x+M*D+l*m),t[13]=-(s*x+i*D+c*m),t[14]=-(h*x+f*D+S*m),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t[9]=a[9]+n[9],t[10]=a[10]+n[10],t[11]=a[11]+n[11],t[12]=a[12]+n[12],t[13]=a[13]+n[13],t[14]=a[14]+n[14],t[15]=a[15]+n[15],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t[9]=a[9]-n[9],t[10]=a[10]-n[10],t[11]=a[11]-n[11],t[12]=a[12]-n[12],t[13]=a[13]-n[13],t[14]=a[14]-n[14],t[15]=a[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t[9]=a[9]*n,t[10]=a[10]*n,t[11]=a[11]*n,t[12]=a[12]*n,t[13]=a[13]*n,t[14]=a[14]*n,t[15]=a[15]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t[9]=a[9]+n[9]*r,t[10]=a[10]+n[10]*r,t[11]=a[11]+n[11]*r,t[12]=a[12]+n[12]*r,t[13]=a[13]+n[13]*r,t[14]=a[14]+n[14]*r,t[15]=a[15]+n[15]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=t[6],i=t[7],c=t[8],h=t[9],f=t[10],S=t[11],I=t[12],x=t[13],D=t[14],m=t[15],d=a[0],F=a[1],v=a[2],b=a[3],p=a[4],E=a[5],w=a[6],z=a[7],A=a[8],P=a[9],q=a[10],L=a[11],R=a[12],O=a[13],N=a[14],Y=a[15];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-F)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(F))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(e-b)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(M-p)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(p))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(s-w)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(i-z)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(c-A)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-q)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(S-L)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(L))&&Math.abs(I-R)<=r.EPSILON*Math.max(1,Math.abs(I),Math.abs(R))&&Math.abs(x-O)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(D-N)<=r.EPSILON*Math.max(1,Math.abs(D),Math.abs(N))&&Math.abs(m-Y)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(Y))},t.exports=o},function(t,a,n){var r=n(1),o=n(4),u=n(7),e=n(8),M={};M.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.rotationTo=function(){var t=u.create(),a=u.fromValues(1,0,0),n=u.fromValues(0,1,0);return function(r,o,e){var l=u.dot(o,e);return-.999999>l?(u.cross(t,a,o),u.length(t)<1e-6&&u.cross(t,n,o),u.normalize(t,t),M.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(u.cross(t,o,e),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,M.normalize(r,r))}}(),M.setAxes=function(){var t=o.create();return function(a,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],M.normalize(a,M.fromMat3(a,t))}}(),M.clone=e.clone,M.fromValues=e.fromValues,M.copy=e.copy,M.set=e.set,M.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.setAxisAngle=function(t,a,n){n=.5*n;var r=Math.sin(n);return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=Math.cos(n),t},M.getAxisAngle=function(t,a){var n=2*Math.acos(a[3]),r=Math.sin(n/2);return 0!=r?(t[0]=a[0]/r,t[1]=a[1]/r,t[2]=a[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},M.add=e.add,M.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1],s=n[2],i=n[3];return t[0]=r*i+e*M+o*s-u*l,t[1]=o*i+e*l+u*M-r*s,t[2]=u*i+e*s+r*l-o*M,t[3]=e*i-r*M-o*l-u*s,t},M.mul=M.multiply,M.scale=e.scale,M.rotateX=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+e*M,t[1]=o*l+u*M,t[2]=u*l-o*M,t[3]=e*l-r*M,t},M.rotateY=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l-u*M,t[1]=o*l+e*M,t[2]=u*l+r*M,t[3]=e*l-o*M,t},M.rotateZ=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*M,t[1]=o*l-r*M,t[2]=u*l+e*M,t[3]=e*l-u*M,t},M.calculateW=function(t,a){var n=a[0],r=a[1],o=a[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},M.dot=e.dot,M.lerp=e.lerp,M.slerp=function(t,a,n,r){var o,u,e,M,l,s=a[0],i=a[1],c=a[2],h=a[3],f=n[0],S=n[1],I=n[2],x=n[3];return u=s*f+i*S+c*I+h*x,0>u&&(u=-u,f=-f,S=-S,I=-I,x=-x),1-u>1e-6?(o=Math.acos(u),e=Math.sin(o),M=Math.sin((1-r)*o)/e,l=Math.sin(r*o)/e):(M=1-r,l=r),t[0]=M*s+l*f,t[1]=M*i+l*S,t[2]=M*c+l*I,t[3]=M*h+l*x,t},M.sqlerp=function(){var t=M.create(),a=M.create();return function(n,r,o,u,e,l){return M.slerp(t,r,e,l),M.slerp(a,o,u,l),M.slerp(n,t,a,2*l*(1-l)),n}}(),M.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*n+r*r+o*o+u*u,M=e?1/e:0;return t[0]=-n*M,t[1]=-r*M,t[2]=-o*M,t[3]=u*M,t},M.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},M.length=e.length,M.len=M.length,M.squaredLength=e.squaredLength,M.sqrLen=M.squaredLength,M.normalize=e.normalize,M.fromMat3=function(t,a){var n,r=a[0]+a[4]+a[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(a[5]-a[7])*n,t[1]=(a[6]-a[2])*n,t[2]=(a[1]-a[3])*n;else{var o=0;a[4]>a[0]&&(o=1),a[8]>a[3*o+o]&&(o=2);var u=(o+1)%3,e=(o+2)%3;n=Math.sqrt(a[3*o+o]-a[3*u+u]-a[3*e+e]+1),t[o]=.5*n,n=.5/n,t[3]=(a[3*u+e]-a[3*e+u])*n,t[u]=(a[3*u+o]+a[3*o+u])*n,t[e]=(a[3*e+o]+a[3*o+e])*n}return t},M.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},M.exactEquals=e.exactEquals,M.equals=e.equals,t.exports=M},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},o.fromValues=function(t,a,n){var o=new r.ARRAY_TYPE(3);return o[0]=t,o[1]=a,o[2]=n,o},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},o.set=function(t,a,n,r){return t[0]=a,t[1]=n,t[2]=r,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2];return Math.sqrt(a*a+n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2];return a*a+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=n*n+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=a[0]*u,t[1]=a[1]*u,t[2]=a[2]*u),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},o.cross=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2];return t[0]=o*l-u*M,t[1]=u*e-r*l,t[2]=r*M-o*e,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],e=a[2];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=e+r*(n[2]-e),t},o.hermite=function(t,a,n,r,o,u){var e=u*u,M=e*(2*u-3)+1,l=e*(u-2)+u,s=e*(u-1),i=e*(3-2*u);return t[0]=a[0]*M+n[0]*l+r[0]*s+o[0]*i,t[1]=a[1]*M+n[1]*l+r[1]*s+o[1]*i,t[2]=a[2]*M+n[2]*l+r[2]*s+o[2]*i,t},o.bezier=function(t,a,n,r,o,u){var e=1-u,M=e*e,l=u*u,s=M*e,i=3*u*M,c=3*l*e,h=l*u;return t[0]=a[0]*s+n[0]*i+r[0]*c+o[0]*h,t[1]=a[1]*s+n[1]*i+r[1]*c+o[1]*h,t[2]=a[2]*s+n[2]*i+r[2]*c+o[2]*h,t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,u=Math.sqrt(1-o*o)*a;return t[0]=Math.cos(n)*u,t[1]=Math.sin(n)*u,t[2]=o*a,t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[3]*r+n[7]*o+n[11]*u+n[15];return e=e||1,t[0]=(n[0]*r+n[4]*o+n[8]*u+n[12])/e,t[1]=(n[1]*r+n[5]*o+n[9]*u+n[13])/e,t[2]=(n[2]*r+n[6]*o+n[10]*u+n[14])/e,t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1],u=a[2];return t[0]=r*n[0]+o*n[3]+u*n[6],t[1]=r*n[1]+o*n[4]+u*n[7],t[2]=r*n[2]+o*n[5]+u*n[8],t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2],s=n[3],i=s*r+M*u-l*o,c=s*o+l*r-e*u,h=s*u+e*o-M*r,f=-e*r-M*o-l*u;return t[0]=i*s+f*-e+c*-l-h*-M,t[1]=c*s+f*-M+h*-e-i*-l,t[2]=h*s+f*-l+i*-M-c*-e,t},o.rotateX=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0],u[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),u[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateY=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),u[1]=o[1],u[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateZ=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),u[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),u[2]=o[2],t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=3),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],t[2]=a[M+2],u(t,t,e),a[M]=t[0],a[M+1]=t[1],a[M+2]=t[2];return a}}(),o.angle=function(t,a){var n=o.fromValues(t[0],t[1],t[2]),r=o.fromValues(a[0],a[1],a[2]);o.normalize(n,n),o.normalize(r,r);var u=o.dot(n,r);return u>1?0:Math.acos(u)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=a[0],M=a[1],l=a[2];return Math.abs(n-e)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(o-M)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-l)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t[3]=a[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t[3]=a[3]/n[3],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t[3]=Math.min(a[3],n[3]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t[3]=Math.max(a[3],n[3]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return Math.sqrt(n*n+r*r+o*o+u*u)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return n*n+r*r+o*o+u*u},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(a*a+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return a*a+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*n+r*r+o*o+u*u;return e>0&&(e=1/Math.sqrt(e),t[0]=n*e,t[1]=r*e,t[2]=o*e,t[3]=u*e),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],e=a[2],M=a[3];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=e+r*(n[2]-e),t[3]=M+r*(n[3]-M),t},o.random=function(t,a){return a=a||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),o.normalize(t,t),o.scale(t,t,a),t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3];return t[0]=n[0]*r+n[4]*o+n[8]*u+n[12]*e,t[1]=n[1]*r+n[5]*o+n[9]*u+n[13]*e,t[2]=n[2]*r+n[6]*o+n[10]*u+n[14]*e,t[3]=n[3]*r+n[7]*o+n[11]*u+n[15]*e,t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2],s=n[3],i=s*r+M*u-l*o,c=s*o+l*r-e*u,h=s*u+e*o-M*r,f=-e*r-M*o-l*u;return t[0]=i*s+f*-e+c*-l-h*-M,t[1]=c*s+f*-M+h*-e-i*-l,t[2]=h*s+f*-l+i*-M-c*-e,t[3]=a[3],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=4),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],t[2]=a[M+2],t[3]=a[M+3],u(t,t,e),a[M]=t[0],a[M+1]=t[1],a[M+2]=t[2],a[M+3]=t[3];return a}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=a[0],l=a[1],s=a[2],i=a[3];return Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-i)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},o.fromValues=function(t,a){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=a,n},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},o.set=function(t,a,n){return t[0]=a,t[1]=n,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1];return Math.sqrt(a*a+n*n)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1];return a*a+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},o.cross=function(t,a,n){var r=a[0]*n[1]-a[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t},o.transformMat2=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},o.transformMat2d=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=2),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],u(t,t,e),a[M]=t[0],a[M+1]=t[1];return a}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},o.equals=function(t,a){var n=t[0],o=t[1],u=a[0],e=a[1];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-e)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(e))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE_D(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.transpose=function(t,a){if(t===a){var n=a[1];t[1]=a[2],t[2]=n}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*u-o*r;return e?(e=1/e,t[0]=u*e,t[1]=-r*e,t[2]=-o*e,t[3]=n*e,t):null},o.adjoint=function(t,a){var n=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1],s=n[2],i=n[3];return t[0]=r*M+u*l,t[1]=o*M+e*l,t[2]=r*s+u*i,t[3]=o*s+e*i,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+u*M,t[1]=o*l+e*M,t[2]=r*-M+u*l,t[3]=o*-M+e*l,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1];return t[0]=r*M,t[1]=o*M,t[2]=u*l,t[3]=e*l,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},o.str=function(t){return"dmat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,a,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,a,n]},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=a[0],l=a[1],s=a[2],i=a[3];return Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-i)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))},o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,a,n,o,u,e){var M=new r.ARRAY_TYPE_D(6);return M[0]=t,M[1]=a,M[2]=n,M[3]=o,M[4]=u,M[5]=e,M},o.set=function(t,a,n,r,o,u,e){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=n*u-r*o;return l?(l=1/l,t[0]=u*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t[4]=(o*M-u*e)*l,t[5]=(r*e-n*M)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1],c=n[2],h=n[3],f=n[4],S=n[5];return t[0]=r*s+u*i,t[1]=o*s+e*i,t[2]=r*c+u*h,t[3]=o*c+e*h,t[4]=r*f+u*S+M,t[5]=o*f+e*S+l,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=Math.sin(n),i=Math.cos(n);return t[0]=r*i+u*s,t[1]=o*i+e*s,t[2]=r*-s+u*i,t[3]=o*-s+e*i,t[4]=M,t[5]=l,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1];return t[0]=r*s,t[1]=o*s,t[2]=u*i,t[3]=e*i,t[4]=M,t[5]=l,t},o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=n[0],i=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=r*s+u*i+M,t[5]=o*s+e*i+l,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},o.str=function(t){return"dmat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=a[0],i=a[1],c=a[2],h=a[3],f=a[4],S=a[5];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(e-h)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(M-f)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(f))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromValues=function(t,a,n,o,u,e,M,l,s){var i=new r.ARRAY_TYPE_D(9);return i[0]=t,i[1]=a,i[2]=n,i[3]=o,i[4]=u,i[5]=e,i[6]=M,i[7]=l,i[8]=s,i},o.set=function(t,a,n,r,o,u,e,M,l,s){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t[6]=M,t[7]=l,t[8]=s,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[5];t[1]=a[3],t[2]=a[6],t[3]=n,t[5]=a[7],t[6]=r,t[7]=o}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=i*e-M*s,h=-i*u+M*l,f=s*u-e*l,S=n*c+r*h+o*f;return S?(S=1/S,t[0]=c*S,t[1]=(-i*r+o*s)*S,t[2]=(M*r-o*e)*S,t[3]=h*S,t[4]=(i*n-o*l)*S,t[5]=(-M*n+o*u)*S,t[6]=f*S,t[7]=(-s*n+r*l)*S,t[8]=(e*n-r*u)*S,t):null},o.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8];return t[0]=e*i-M*s,t[1]=o*s-r*i,t[2]=r*M-o*e,t[3]=M*l-u*i,t[4]=n*i-o*l,t[5]=o*u-n*M,t[6]=u*s-e*l,t[7]=r*l-n*s,t[8]=n*e-r*u,t},o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],e=t[5],M=t[6],l=t[7],s=t[8];return a*(s*u-e*l)+n*(-s*o+e*M)+r*(l*o-u*M)},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=n[0],f=n[1],S=n[2],I=n[3],x=n[4],D=n[5],m=n[6],d=n[7],F=n[8];return t[0]=h*r+f*e+S*s,t[1]=h*o+f*M+S*i,t[2]=h*u+f*l+S*c,t[3]=I*r+x*e+D*s,t[4]=I*o+x*M+D*i,t[5]=I*u+x*l+D*c,t[6]=m*r+d*e+F*s,t[7]=m*o+d*M+F*i,t[8]=m*u+d*l+F*c,t},o.mul=o.multiply,o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=M,t[5]=l,t[6]=h*r+f*e+s,t[7]=h*o+f*M+i,t[8]=h*u+f*l+c,t},o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*e,t[1]=f*o+h*M,t[2]=f*u+h*l,t[3]=f*e-h*r,t[4]=f*M-h*o,t[5]=f*l-h*u,t[6]=s,t[7]=i,t[8]=c,t},o.scale=function(t,a,n){var r=n[0],o=n[1];return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=o*a[3],t[4]=o*a[4],t[5]=o*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n+n,M=r+r,l=o+o,s=n*e,i=r*e,c=r*M,h=o*e,f=o*M,S=o*l,I=u*e,x=u*M,D=u*l;return t[0]=1-c-S,t[3]=i-D,t[6]=h+x,t[1]=i+D,t[4]=1-s-S,t[7]=f-I,t[2]=h-x,t[5]=f+I,t[8]=1-s-c,t},o.normalFromMat4=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15],m=n*M-r*e,d=n*l-o*e,F=n*s-u*e,v=r*l-o*M,b=r*s-u*M,p=o*s-u*l,E=i*I-c*S,w=i*x-h*S,z=i*D-f*S,A=c*x-h*I,P=c*D-f*I,q=h*D-f*x,L=m*q-d*P+F*A+v*z-b*w+p*E;return L?(L=1/L,t[0]=(M*q-l*P+s*A)*L,t[1]=(l*z-e*q-s*w)*L,t[2]=(e*P-M*z+s*E)*L,t[3]=(o*P-r*q-u*A)*L,t[4]=(n*q-o*z+u*w)*L,t[5]=(r*z-n*P-u*E)*L,t[6]=(I*p-x*b+D*v)*L,t[7]=(x*F-S*p-D*d)*L,t[8]=(S*b-I*F+D*m)*L,t):null},o.str=function(t){return"dmat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=t[6],i=t[7],c=t[8],h=a[0],f=a[1],S=a[2],I=a[3],x=a[4],D=a[5],m=t[6],d=a[7],F=a[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-S)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(e-I)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(I))&&Math.abs(M-x)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(x))&&Math.abs(l-D)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(c-F)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(F))},t.exports=o},function(t,a,n){var r=n(1),o={scalar:{},SIMD:{}};o.create=function(){var t=new r.ARRAY_TYPE_D(16);
return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.fromValues=function(t,a,n,o,u,e,M,l,s,i,c,h,f,S,I,x){var D=new r.ARRAY_TYPE_D(16);return D[0]=t,D[1]=a,D[2]=n,D[3]=o,D[4]=u,D[5]=e,D[6]=M,D[7]=l,D[8]=s,D[9]=i,D[10]=c,D[11]=h,D[12]=f,D[13]=S,D[14]=I,D[15]=x,D},o.set=function(t,a,n,r,o,u,e,M,l,s,i,c,h,f,S,I,x){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t[6]=M,t[7]=l,t[8]=s,t[9]=i,t[10]=c,t[11]=h,t[12]=f,t[13]=S,t[14]=I,t[15]=x,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[3],u=a[6],e=a[7],M=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=n,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=u,t[11]=a[14],t[12]=o,t[13]=e,t[14]=M}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},o.SIMD.transpose=function(t,a){},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15],m=n*M-r*e,d=n*l-o*e,F=n*s-u*e,v=r*l-o*M,b=r*s-u*M,p=o*s-u*l,E=i*I-c*S,w=i*x-h*S,z=i*D-f*S,A=c*x-h*I,P=c*D-f*I,q=h*D-f*x,L=m*q-d*P+F*A+v*z-b*w+p*E;return L?(L=1/L,t[0]=(M*q-l*P+s*A)*L,t[1]=(o*P-r*q-u*A)*L,t[2]=(I*p-x*b+D*v)*L,t[3]=(h*b-c*p-f*v)*L,t[4]=(l*z-e*q-s*w)*L,t[5]=(n*q-o*z+u*w)*L,t[6]=(x*F-S*p-D*d)*L,t[7]=(i*p-h*F+f*d)*L,t[8]=(e*P-M*z+s*E)*L,t[9]=(r*z-n*P-u*E)*L,t[10]=(S*b-I*F+D*m)*L,t[11]=(c*F-i*b-f*m)*L,t[12]=(M*w-e*A-l*E)*L,t[13]=(n*A-r*w+o*E)*L,t[14]=(I*d-S*v-x*m)*L,t[15]=(i*v-c*d+h*m)*L,t):null},o.SIMD.invert=function(t,a){},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=a[4],M=a[5],l=a[6],s=a[7],i=a[8],c=a[9],h=a[10],f=a[11],S=a[12],I=a[13],x=a[14],D=a[15];return t[0]=M*(h*D-f*x)-c*(l*D-s*x)+I*(l*f-s*h),t[1]=-(r*(h*D-f*x)-c*(o*D-u*x)+I*(o*f-u*h)),t[2]=r*(l*D-s*x)-M*(o*D-u*x)+I*(o*s-u*l),t[3]=-(r*(l*f-s*h)-M*(o*f-u*h)+c*(o*s-u*l)),t[4]=-(e*(h*D-f*x)-i*(l*D-s*x)+S*(l*f-s*h)),t[5]=n*(h*D-f*x)-i*(o*D-u*x)+S*(o*f-u*h),t[6]=-(n*(l*D-s*x)-e*(o*D-u*x)+S*(o*s-u*l)),t[7]=n*(l*f-s*h)-e*(o*f-u*h)+i*(o*s-u*l),t[8]=e*(c*D-f*I)-i*(M*D-s*I)+S*(M*f-s*c),t[9]=-(n*(c*D-f*I)-i*(r*D-u*I)+S*(r*f-u*c)),t[10]=n*(M*D-s*I)-e*(r*D-u*I)+S*(r*s-u*M),t[11]=-(n*(M*f-s*c)-e*(r*f-u*c)+i*(r*s-u*M)),t[12]=-(e*(c*x-h*I)-i*(M*x-l*I)+S*(M*h-l*c)),t[13]=n*(c*x-h*I)-i*(r*x-o*I)+S*(r*h-o*c),t[14]=-(n*(M*x-l*I)-e*(r*x-o*I)+S*(r*l-o*M)),t[15]=n*(M*h-l*c)-e*(r*h-o*c)+i*(r*l-o*M),t},o.SIMD.adjoint=function(t,a){},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],e=t[5],M=t[6],l=t[7],s=t[8],i=t[9],c=t[10],h=t[11],f=t[12],S=t[13],I=t[14],x=t[15],D=a*e-n*u,m=a*M-r*u,d=a*l-o*u,F=n*M-r*e,v=n*l-o*e,b=r*l-o*M,p=s*S-i*f,E=s*I-c*f,w=s*x-h*f,z=i*I-c*S,A=i*x-h*S,P=c*x-h*I;return D*P-m*A+d*z+F*w-v*E+b*p},o.SIMD.multiply=function(t,a,n){var r=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8),e=SIMD.Float32x4.load(a,12),M=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),e))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(n,4),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),e))));SIMD.Float32x4.store(t,4,i);var c=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),e))));SIMD.Float32x4.store(t,8,h);var f=SIMD.Float32x4.load(n,12),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),e))));return SIMD.Float32x4.store(t,12,S),t},o.scalar.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=a[9],f=a[10],S=a[11],I=a[12],x=a[13],D=a[14],m=a[15],d=n[0],F=n[1],v=n[2],b=n[3];return t[0]=d*r+F*M+v*c+b*I,t[1]=d*o+F*l+v*h+b*x,t[2]=d*u+F*s+v*f+b*D,t[3]=d*e+F*i+v*S+b*m,d=n[4],F=n[5],v=n[6],b=n[7],t[4]=d*r+F*M+v*c+b*I,t[5]=d*o+F*l+v*h+b*x,t[6]=d*u+F*s+v*f+b*D,t[7]=d*e+F*i+v*S+b*m,d=n[8],F=n[9],v=n[10],b=n[11],t[8]=d*r+F*M+v*c+b*I,t[9]=d*o+F*l+v*h+b*x,t[10]=d*u+F*s+v*f+b*D,t[11]=d*e+F*i+v*S+b*m,d=n[12],F=n[13],v=n[14],b=n[15],t[12]=d*r+F*M+v*c+b*I,t[13]=d*o+F*l+v*h+b*x,t[14]=d*u+F*s+v*f+b*D,t[15]=d*e+F*i+v*S+b*m,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,a,n){var r,o,u,e,M,l,s,i,c,h,f,S,I=n[0],x=n[1],D=n[2];return a===t?(t[12]=a[0]*I+a[4]*x+a[8]*D+a[12],t[13]=a[1]*I+a[5]*x+a[9]*D+a[13],t[14]=a[2]*I+a[6]*x+a[10]*D+a[14],t[15]=a[3]*I+a[7]*x+a[11]*D+a[15]):(r=a[0],o=a[1],u=a[2],e=a[3],M=a[4],l=a[5],s=a[6],i=a[7],c=a[8],h=a[9],f=a[10],S=a[11],t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=M,t[5]=l,t[6]=s,t[7]=i,t[8]=c,t[9]=h,t[10]=f,t[11]=S,t[12]=r*I+M*x+c*D+a[12],t[13]=o*I+l*x+h*D+a[13],t[14]=u*I+s*x+f*D+a[14],t[15]=e*I+i*x+S*D+a[15]),t},o.SIMD.translate=function(t,a,n){},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,a,n){var r=n[0],o=n[1],u=n[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*u,t[9]=a[9]*u,t[10]=a[10]*u,t[11]=a[11]*u,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.SIMD.scale=function(t,a,n){},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,a,n,o){var u,e,M,l,s,i,c,h,f,S,I,x,D,m,d,F,v,b,p,E,w,z,A,P,q=o[0],L=o[1],R=o[2],O=Math.sqrt(q*q+L*L+R*R);return Math.abs(O)<r.EPSILON?null:(O=1/O,q*=O,L*=O,R*=O,u=Math.sin(n),e=Math.cos(n),M=1-e,l=a[0],s=a[1],i=a[2],c=a[3],h=a[4],f=a[5],S=a[6],I=a[7],x=a[8],D=a[9],m=a[10],d=a[11],F=q*q*M+e,v=L*q*M+R*u,b=R*q*M-L*u,p=q*L*M-R*u,E=L*L*M+e,w=R*L*M+q*u,z=q*R*M+L*u,A=L*R*M-q*u,P=R*R*M+e,t[0]=l*F+h*v+x*b,t[1]=s*F+f*v+D*b,t[2]=i*F+S*v+m*b,t[3]=c*F+I*v+d*b,t[4]=l*p+h*E+x*w,t[5]=s*p+f*E+D*w,t[6]=i*p+S*E+m*w,t[7]=c*p+I*E+d*w,t[8]=l*z+h*A+x*P,t[9]=s*z+f*A+D*P,t[10]=i*z+S*A+m*P,t[11]=c*z+I*A+d*P,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},o.scalar.rotateX=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[4],e=a[5],M=a[6],l=a[7],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=u*o+s*r,t[5]=e*o+i*r,t[6]=M*o+c*r,t[7]=l*o+h*r,t[8]=s*o-u*r,t[9]=i*o-e*r,t[10]=c*o-M*r,t[11]=h*o-l*r,t},o.SIMD.rotateX=function(t,a,n){},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],e=a[1],M=a[2],l=a[3],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o-s*r,t[1]=e*o-i*r,t[2]=M*o-c*r,t[3]=l*o-h*r,t[8]=u*r+s*o,t[9]=e*r+i*o,t[10]=M*r+c*o,t[11]=l*r+h*o,t},o.SIMD.rotateY=function(t,a,n){},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],e=a[1],M=a[2],l=a[3],s=a[4],i=a[5],c=a[6],h=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o+s*r,t[1]=e*o+i*r,t[2]=M*o+c*r,t[3]=l*o+h*r,t[4]=s*o-u*r,t[5]=i*o-e*r,t[6]=c*o-M*r,t[7]=h*o-l*r,t},o.SIMD.rotateZ=function(t,a,n){},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,a,n){var o,u,e,M=n[0],l=n[1],s=n[2],i=Math.sqrt(M*M+l*l+s*s);return Math.abs(i)<r.EPSILON?null:(i=1/i,M*=i,l*=i,s*=i,o=Math.sin(a),u=Math.cos(a),e=1-u,t[0]=M*M*e+u,t[1]=l*M*e+s*o,t[2]=s*M*e-l*o,t[3]=0,t[4]=M*l*e-s*o,t[5]=l*l*e+u,t[6]=s*l*e+M*o,t[7]=0,t[8]=M*s*e+l*o,t[9]=l*s*e-M*o,t[10]=s*s*e+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=r+r,l=o+o,s=u+u,i=r*M,c=r*l,h=r*s,f=o*l,S=o*s,I=u*s,x=e*M,D=e*l,m=e*s;return t[0]=1-(f+I),t[1]=c+m,t[2]=h-D,t[3]=0,t[4]=c-m,t[5]=1-(i+I),t[6]=S+x,t[7]=0,t[8]=h+D,t[9]=S-x,t[10]=1-(i+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},o.getRotation=function(t,a){var n=a[0]+a[5]+a[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(a[6]-a[9])/r,t[1]=(a[8]-a[2])/r,t[2]=(a[1]-a[4])/r):a[0]>a[5]&a[0]>a[10]?(r=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/r,t[0]=.25*r,t[1]=(a[1]+a[4])/r,t[2]=(a[8]+a[2])/r):a[5]>a[10]?(r=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/r,t[0]=(a[1]+a[4])/r,t[1]=.25*r,t[2]=(a[6]+a[9])/r):(r=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/r,t[0]=(a[8]+a[2])/r,t[1]=(a[6]+a[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,a,n,r){var o=a[0],u=a[1],e=a[2],M=a[3],l=o+o,s=u+u,i=e+e,c=o*l,h=o*s,f=o*i,S=u*s,I=u*i,x=e*i,D=M*l,m=M*s,d=M*i,F=r[0],v=r[1],b=r[2];return t[0]=(1-(S+x))*F,t[1]=(h+d)*F,t[2]=(f-m)*F,t[3]=0,t[4]=(h-d)*v,t[5]=(1-(c+x))*v,t[6]=(I+D)*v,t[7]=0,t[8]=(f+m)*b,t[9]=(I-D)*b,t[10]=(1-(c+S))*b,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,a,n,r,o){var u=a[0],e=a[1],M=a[2],l=a[3],s=u+u,i=e+e,c=M+M,h=u*s,f=u*i,S=u*c,I=e*i,x=e*c,D=M*c,m=l*s,d=l*i,F=l*c,v=r[0],b=r[1],p=r[2],E=o[0],w=o[1],z=o[2];return t[0]=(1-(I+D))*v,t[1]=(f+F)*v,t[2]=(S-d)*v,t[3]=0,t[4]=(f-F)*b,t[5]=(1-(h+D))*b,t[6]=(x+m)*b,t[7]=0,t[8]=(S+d)*p,t[9]=(x-m)*p,t[10]=(1-(h+I))*p,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*w+t[8]*z),t[13]=n[1]+w-(t[1]*E+t[5]*w+t[9]*z),t[14]=n[2]+z-(t[2]*E+t[6]*w+t[10]*z),t[15]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n+n,M=r+r,l=o+o,s=n*e,i=r*e,c=r*M,h=o*e,f=o*M,S=o*l,I=u*e,x=u*M,D=u*l;return t[0]=1-c-S,t[1]=i+D,t[2]=h-x,t[3]=0,t[4]=i-D,t[5]=1-s-S,t[6]=f+I,t[7]=0,t[8]=h+x,t[9]=f-I,t[10]=1-s-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,a,n,r,o,u,e){var M=1/(n-a),l=1/(o-r),s=1/(u-e);return t[0]=2*u*M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*l,t[6]=0,t[7]=0,t[8]=(n+a)*M,t[9]=(o+r)*l,t[10]=(e+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=e*u*2*s,t[15]=0,t},o.perspective=function(t,a,n,r,o){var u=1/Math.tan(a/2),e=1/(r-o);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*e,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,a,n,r){var o=Math.tan(a.upDegrees*Math.PI/180),u=Math.tan(a.downDegrees*Math.PI/180),e=Math.tan(a.leftDegrees*Math.PI/180),M=Math.tan(a.rightDegrees*Math.PI/180),l=2/(e+M),s=2/(o+u);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((e-M)*l*.5),t[9]=(o-u)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,a,n,r,o,u,e){var M=1/(a-n),l=1/(r-o),s=1/(u-e);return t[0]=-2*M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+n)*M,t[13]=(o+r)*l,t[14]=(e+u)*s,t[15]=1,t},o.lookAt=function(t,a,n,u){var e,M,l,s,i,c,h,f,S,I,x=a[0],D=a[1],m=a[2],d=u[0],F=u[1],v=u[2],b=n[0],p=n[1],E=n[2];return Math.abs(x-b)<r.EPSILON&&Math.abs(D-p)<r.EPSILON&&Math.abs(m-E)<r.EPSILON?o.identity(t):(h=x-b,f=D-p,S=m-E,I=1/Math.sqrt(h*h+f*f+S*S),h*=I,f*=I,S*=I,e=F*S-v*f,M=v*h-d*S,l=d*f-F*h,I=Math.sqrt(e*e+M*M+l*l),I?(I=1/I,e*=I,M*=I,l*=I):(e=0,M=0,l=0),s=f*l-S*M,i=S*e-h*l,c=h*M-f*e,I=Math.sqrt(s*s+i*i+c*c),I?(I=1/I,s*=I,i*=I,c*=I):(s=0,i=0,c=0),t[0]=e,t[1]=s,t[2]=h,t[3]=0,t[4]=M,t[5]=i,t[6]=f,t[7]=0,t[8]=l,t[9]=c,t[10]=S,t[11]=0,t[12]=-(e*x+M*D+l*m),t[13]=-(s*x+i*D+c*m),t[14]=-(h*x+f*D+S*m),t[15]=1,t)},o.str=function(t){return"dmat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t[9]=a[9]+n[9],t[10]=a[10]+n[10],t[11]=a[11]+n[11],t[12]=a[12]+n[12],t[13]=a[13]+n[13],t[14]=a[14]+n[14],t[15]=a[15]+n[15],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t[9]=a[9]-n[9],t[10]=a[10]-n[10],t[11]=a[11]-n[11],t[12]=a[12]-n[12],t[13]=a[13]-n[13],t[14]=a[14]-n[14],t[15]=a[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t[9]=a[9]*n,t[10]=a[10]*n,t[11]=a[11]*n,t[12]=a[12]*n,t[13]=a[13]*n,t[14]=a[14]*n,t[15]=a[15]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t[9]=a[9]+n[9]*r,t[10]=a[10]+n[10]*r,t[11]=a[11]+n[11]*r,t[12]=a[12]+n[12]*r,t[13]=a[13]+n[13]*r,t[14]=a[14]+n[14]*r,t[15]=a[15]+n[15]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=t[4],l=t[5],s=t[6],i=t[7],c=t[8],h=t[9],f=t[10],S=t[11],I=t[12],x=t[13],D=t[14],m=t[15],d=a[0],F=a[1],v=a[2],b=a[3],p=a[4],E=a[5],w=a[6],z=a[7],A=a[8],P=a[9],q=a[10],L=a[11],R=a[12],O=a[13],N=a[14],Y=a[15];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-F)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(F))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(e-b)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(M-p)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(p))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(s-w)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(i-z)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(c-A)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-q)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(S-L)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(L))&&Math.abs(I-R)<=r.EPSILON*Math.max(1,Math.abs(I),Math.abs(R))&&Math.abs(x-O)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(D-N)<=r.EPSILON*Math.max(1,Math.abs(D),Math.abs(N))&&Math.abs(m-Y)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(Y))},t.exports=o},function(t,a,n){var r=n(1),o=n(12),u=n(15),e=n(16),M={};M.create=function(){var t=new r.ARRAY_TYPE_D(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.rotationTo=function(){var t=u.create(),a=u.fromValues(1,0,0),n=u.fromValues(0,1,0);return function(r,o,e){var l=u.dot(o,e);return-.999999>l?(u.cross(t,a,o),u.length(t)<1e-6&&u.cross(t,n,o),u.normalize(t,t),M.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(u.cross(t,o,e),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,M.normalize(r,r))}}(),M.setAxes=function(){var t=o.create();return function(a,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],M.normalize(a,M.fromdmat3(a,t))}}(),M.clone=e.clone,M.fromValues=e.fromValues,M.copy=e.copy,M.set=e.set,M.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.setAxisAngle=function(t,a,n){n=.5*n;var r=Math.sin(n);return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=Math.cos(n),t},M.getAxisAngle=function(t,a){var n=2*Math.acos(a[3]),r=Math.sin(n/2);return 0!=r?(t[0]=a[0]/r,t[1]=a[1]/r,t[2]=a[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},M.add=e.add,M.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3],M=n[0],l=n[1],s=n[2],i=n[3];return t[0]=r*i+e*M+o*s-u*l,t[1]=o*i+e*l+u*M-r*s,t[2]=u*i+e*s+r*l-o*M,t[3]=e*i-r*M-o*l-u*s,t},M.mul=M.multiply,M.scale=e.scale,M.rotateX=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+e*M,t[1]=o*l+u*M,t[2]=u*l-o*M,t[3]=e*l-r*M,t},M.rotateY=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l-u*M,t[1]=o*l+e*M,t[2]=u*l+r*M,t[3]=e*l-o*M,t},M.rotateZ=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],e=a[3],M=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*M,t[1]=o*l-r*M,t[2]=u*l+e*M,t[3]=e*l-u*M,t},M.calculateW=function(t,a){var n=a[0],r=a[1],o=a[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},M.dot=e.dot,M.lerp=e.lerp,M.slerp=function(t,a,n,r){var o,u,e,M,l,s=a[0],i=a[1],c=a[2],h=a[3],f=n[0],S=n[1],I=n[2],x=n[3];return u=s*f+i*S+c*I+h*x,0>u&&(u=-u,f=-f,S=-S,I=-I,x=-x),1-u>1e-6?(o=Math.acos(u),e=Math.sin(o),M=Math.sin((1-r)*o)/e,l=Math.sin(r*o)/e):(M=1-r,l=r),t[0]=M*s+l*f,t[1]=M*i+l*S,t[2]=M*c+l*I,t[3]=M*h+l*x,t},M.sqlerp=function(){var t=M.create(),a=M.create();return function(n,r,o,u,e,l){return M.slerp(t,r,e,l),M.slerp(a,o,u,l),M.slerp(n,t,a,2*l*(1-l)),n}}(),M.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*n+r*r+o*o+u*u,M=e?1/e:0;return t[0]=-n*M,t[1]=-r*M,t[2]=-o*M,t[3]=u*M,t},M.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},M.length=e.length,M.len=M.length,M.squaredLength=e.squaredLength,M.sqrLen=M.squaredLength,M.normalize=e.normalize,M.fromdmat3=function(t,a){var n,r=a[0]+a[4]+a[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(a[5]-a[7])*n,t[1]=(a[6]-a[2])*n,t[2]=(a[1]-a[3])*n;else{var o=0;a[4]>a[0]&&(o=1),a[8]>a[3*o+o]&&(o=2);var u=(o+1)%3,e=(o+2)%3;n=Math.sqrt(a[3*o+o]-a[3*u+u]-a[3*e+e]+1),t[o]=.5*n,n=.5/n,t[3]=(a[3*u+e]-a[3*e+u])*n,t[u]=(a[3*u+o]+a[3*o+u])*n,t[e]=(a[3*e+o]+a[3*o+e])*n}return t},M.str=function(t){return"dquat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},M.exactEquals=e.exactEquals,M.equals=e.equals,t.exports=M},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},o.fromValues=function(t,a,n){var o=new r.ARRAY_TYPE_D(3);return o[0]=t,o[1]=a,o[2]=n,o},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},o.set=function(t,a,n,r){return t[0]=a,t[1]=n,t[2]=r,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2];return Math.sqrt(a*a+n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2];return a*a+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=n*n+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=a[0]*u,t[1]=a[1]*u,t[2]=a[2]*u),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},o.cross=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2];return t[0]=o*l-u*M,t[1]=u*e-r*l,t[2]=r*M-o*e,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],e=a[2];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=e+r*(n[2]-e),t},o.hermite=function(t,a,n,r,o,u){var e=u*u,M=e*(2*u-3)+1,l=e*(u-2)+u,s=e*(u-1),i=e*(3-2*u);return t[0]=a[0]*M+n[0]*l+r[0]*s+o[0]*i,t[1]=a[1]*M+n[1]*l+r[1]*s+o[1]*i,t[2]=a[2]*M+n[2]*l+r[2]*s+o[2]*i,t},o.bezier=function(t,a,n,r,o,u){var e=1-u,M=e*e,l=u*u,s=M*e,i=3*u*M,c=3*l*e,h=l*u;return t[0]=a[0]*s+n[0]*i+r[0]*c+o[0]*h,t[1]=a[1]*s+n[1]*i+r[1]*c+o[1]*h,t[2]=a[2]*s+n[2]*i+r[2]*c+o[2]*h,t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,u=Math.sqrt(1-o*o)*a;return t[0]=Math.cos(n)*u,t[1]=Math.sin(n)*u,t[2]=o*a,t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[3]*r+n[7]*o+n[11]*u+n[15];return e=e||1,t[0]=(n[0]*r+n[4]*o+n[8]*u+n[12])/e,t[1]=(n[1]*r+n[5]*o+n[9]*u+n[13])/e,t[2]=(n[2]*r+n[6]*o+n[10]*u+n[14])/e,t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1],u=a[2];return t[0]=r*n[0]+o*n[3]+u*n[6],t[1]=r*n[1]+o*n[4]+u*n[7],t[2]=r*n[2]+o*n[5]+u*n[8],t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2],s=n[3],i=s*r+M*u-l*o,c=s*o+l*r-e*u,h=s*u+e*o-M*r,f=-e*r-M*o-l*u;return t[0]=i*s+f*-e+c*-l-h*-M,t[1]=c*s+f*-M+h*-e-i*-l,t[2]=h*s+f*-l+i*-M-c*-e,t},o.rotateX=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0],u[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),u[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateY=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),u[1]=o[1],u[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateZ=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),u[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),u[2]=o[2],t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=3),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],t[2]=a[M+2],u(t,t,e),a[M]=t[0],a[M+1]=t[1],a[M+2]=t[2];return a}}(),o.angle=function(t,a){var n=o.fromValues(t[0],t[1],t[2]),r=o.fromValues(a[0],a[1],a[2]);o.normalize(n,n),o.normalize(r,r);var u=o.dot(n,r);return u>1?0:Math.acos(u)},o.str=function(t){return"dvec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=a[0],M=a[1],l=a[2];return Math.abs(n-e)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(o-M)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-l)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE_D(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t[3]=a[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t[3]=a[3]/n[3],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t[3]=Math.min(a[3],n[3]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t[3]=Math.max(a[3],n[3]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return Math.sqrt(n*n+r*r+o*o+u*u)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return n*n+r*r+o*o+u*u},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(a*a+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return a*a+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],e=n*n+r*r+o*o+u*u;return e>0&&(e=1/Math.sqrt(e),t[0]=n*e,t[1]=r*e,t[2]=o*e,t[3]=u*e),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],e=a[2],M=a[3];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=e+r*(n[2]-e),t[3]=M+r*(n[3]-M),t},o.random=function(t,a){return a=a||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),o.normalize(t,t),o.scale(t,t,a),t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=a[3];return t[0]=n[0]*r+n[4]*o+n[8]*u+n[12]*e,t[1]=n[1]*r+n[5]*o+n[9]*u+n[13]*e,t[2]=n[2]*r+n[6]*o+n[10]*u+n[14]*e,t[3]=n[3]*r+n[7]*o+n[11]*u+n[15]*e,t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],e=n[0],M=n[1],l=n[2],s=n[3],i=s*r+M*u-l*o,c=s*o+l*r-e*u,h=s*u+e*o-M*r,f=-e*r-M*o-l*u;return t[0]=i*s+f*-e+c*-l-h*-M,t[1]=c*s+f*-M+h*-e-i*-l,t[2]=h*s+f*-l+i*-M-c*-e,t[3]=a[3],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=4),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],t[2]=a[M+2],t[3]=a[M+3],u(t,t,e),a[M]=t[0],a[M+1]=t[1],a[M+2]=t[2],a[M+3]=t[3];return a}}(),o.str=function(t){return"  dvec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],e=t[3],M=a[0],l=a[1],s=a[2],i=a[3];return Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-i)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE_D(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE_D(2);return a[0]=t[0],a[1]=t[1],a},o.fromValues=function(t,a){var n=new r.ARRAY_TYPE_D(2);return n[0]=t,n[1]=a,n},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},o.set=function(t,a,n){return t[0]=a,t[1]=n,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t},o.div=o.divide,o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1];return Math.sqrt(a*a+n*n)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1];return a*a+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},o.cross=function(t,a,n){var r=a[0]*n[1]-a[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t},o.transformMat2=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},o.transformMat2d=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,e){var M,l;for(n||(n=2),r||(r=0),l=o?Math.min(o*n+r,a.length):a.length,M=r;l>M;M+=n)t[0]=a[M],t[1]=a[M+1],u(t,t,e),a[M]=t[0],a[M+1]=t[1];return a}}(),o.str=function(t){return"dvec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},o.equals=function(t,a){var n=t[0],o=t[1],u=a[0],e=a[1];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-e)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(e))},t.exports=o}])});